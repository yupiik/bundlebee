[{"lang":"en","lvl2":"Configuration","text":"Adds a service to the alveoli available in the defined folder. It is a skaffolding command.\nName: add-alveolus.\nAlveolus name.\nDeployment image.\nManifest to add the aveolus inside. Default value: ./bundlebee/manifest.json\nIf false, generated files already existing will be skipped. Default value: false\nAlveolus/template type. web will create a ConfigMap, Deployment and Service. Default value: web","title":"Add-alveolus","url":"//yupiik.github.io/bundlebee/commands/add-alveolus.configuration.html"},{"lang":"en","lvl2":"Configuration","lvl3":"Inherited Global Configuration","text":"Apply/deploy a set of descriptors from a root one.\nName: apply.\nAlveolus name to deploy. When set to auto, it will deploy all manifests found in the classpath. If you set manifest option, alveolus is set to auto and there is a single alveolus in it, this will default to it instead of using classpath deployment. Default value: auto\nRoot dependency to download to get the manifest. If set to auto it is assumed to be present in current classpath. Default value: auto\nIf true, bundlebee.* labels will be injected into the descritors. This is required for rollback command to work. Default value: true\nIf true, a bundlebee.timestamp label will be injected into the descritors with current date before applying the descriptor. Default value: true\nManifest to load to start to deploy (a file path or inline). This optional setting mainly enables to use dependencies easily. Ignored if set to skip. Default value: skip\nfor these configurations, don’t hesitate to use ~/.bundlebeerc or --config-file <path to config> (just remove the -- prefix from option keys).\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto","title":"Apply","url":"//yupiik.github.io/bundlebee/commands/apply.configuration.html"},{"lang":"en","text":"elasticsearch-local (io.yupiik.alveoli:elasticsearch-local:1.0.2-SNAPSHOT): setup \"elasticsearch-local\" which runs an Elasticsearch instance usable by other applications.\ngrafana-simple (io.yupiik.alveoli:grafana-simple:1.0.2-SNAPSHOT): simple Grafana instance, note we preconfigure it with Loki, Prometheus and Zipkin alveoli, ensure to override the configuration if you don’t use them.\nloki-simple (io.yupiik.alveoli:loki-simple:1.0.2-SNAPSHOT): loki setup to aggregate service logs using promtail, the prometheus for logs.\nmonitoring-alveolus (io.yupiik.alveoli:monitoring-alveolus:1.0.2-SNAPSHOT): includes loki+prometheus+zipkin+grafana at once.\npostgres-local (io.yupiik.alveoli:postgres-local:1.0.2-SNAPSHOT): setup \"postgres-local\" which runs a PostgreSQL instance usable by other applications.\nprometheus-simple (io.yupiik.alveoli:prometheus-simple:1.0.2-SNAPSHOT): prometheus local/dev setup. Will be available on http://$(PROMETHEUS_SERVICE_SERVICE_HOST):$(PROMETHEUS_SERVICE_SERVICE_PORT).\nzipkin-simple (io.yupiik.alveoli:zipkin-simple:1.0.2-SNAPSHOT): zipkin in memory setup. Will be available on http://$(ZIPKIN_SERVICE_SERVICE_HOST):$(ZIPKIN_SERVICE_SERVICE_PORT). For example http://$(ZIPKIN_SERVICE_SERVICE_HOST):$(ZIPKIN_SERVICE_SERVICE_PORT)/api/v2/spans to push spans through HTTP.","title":"Available Alveoli","url":"//yupiik.github.io/bundlebee/alveoli.html"},{"lang":"en","text":"add-alveolus: adds a service to the alveoli available in the defined folder. It is a skaffolding command.\napply: apply/deploy a set of descriptors from a root one.\nbuild: build a project.\ncipher-password: cipher a password to put it in ~/.m2/settings.xml servers (useful for deploy command for example).\ncreate-master-password: generate a master password if none exist (in ~/.m2/settings-security.xml).\ndelete: delete an alveolus deployment by deleting all related descriptors.\ndeploy: build and deploy a project. It inherits from most configuration of build command and adds remote repository settings.\nhelp: print help for all available commands.\nhttp: execute a HTTP request over Kubernetes client. This is mainly for not yet existing commands and to reuse all the client auto-configuration.\ninspect: inspect an alveolus, i.e. list the descriptors to apply.\nnew: creates a new project.\nrollback: rollback an alveolus deployment.\nversion: shows the application version.\nversions: list versions for an artifact to know which ones are available.","title":"Available commands","url":"//yupiik.github.io/bundlebee/commands.html"},{"lang":"en","lvl2":"Configuration","text":"Build a project.\nName: build.\nBundle artifactId.\nProject to build. Default value: target\nIf true it will be added to your local maven repository. Default value: true\nProject to build. Default value: .\nBundle groupId.\nBundle version.","title":"Build","url":"//yupiik.github.io/bundlebee/commands/build.configuration.html"},{"lang":"en","lvl2":"Declaration\nMojo\nExample","text":"All BundleBee commands have their mojo.\nThey are named exactly the same way (i.e. to execute apply command you can run bundlebee:apply mojo).\nThe configuration is the same than the ones of the CLI so you can review the commands documentation or use your IDE completion.\nMore information on mojos documentation.\nHere a sample to generate a web alveolus in a maven module (note it can be defined in parent pom):\ninitialize a bundlebee folder in target/classes/bundlebee (default)\nadd a web (default type) alveolus for this module\nensure to set the image name for the module, it is required\nThis will enable to bundle the alveolus in the jar and then rely on it in a manifest.json.\neven if the add-alveolus goal will enable you to deploy your web service, it is recommended to customize the configuration (at least the config map). This goal (add-alveolus) is mainly to get started but once you got your manifest.json written you can remove the plugin execution until you write a custom io.yupiik.bundlebee.core.command.AddAlveolusTypeHandler added in plugin dependencies.","title":"BundleBee Maven Plugin","url":"//yupiik.github.io/bundlebee/maven-plugin.html"},{"lang":"en","lvl2":"Goals","text":"BundleBee command executable from Maven environment.\nadd-alveolus: Adds a service to the alveoli available in the defined folder. It is a skaffolding command.\napply: Apply/deploy a set of descriptors from a root one.\nbuild: Build a project.\ncipher-password: Cipher a password to put it in ~/.m2/settings.xml servers (useful for deploy command for example).\ncreate-master-password: Generate a master password if none exist (in ~/.m2/settings-security.xml)\ndelete: Delete an alveolus deployment by deleting all related descriptors. bundlebee.delete.propagationPolicy can be set in descriptor(s) metadata to force default CLI behavior for this descriptor.\ndeploy: Build and deploy a project. It inherits from most configuration of build command and adds remote repository settings.\nhttp: Execute a HTTP request over Kubernetes client. This is mainly for not yet existing commands and to reuse all the client auto-configuration.\ninspect: Inspect an alveolus, i.e. list the descriptors to apply.\nnew: Creates a new project.\nrollback: Rollback an alveolus deployment. The strategy is the following one: * Load current alveolus (recursively) to list all descriptors in \"current\" version * Find previous version if not explicit (by choosing the first previous on in the list of available version on maven repository) * Run delete command for current version * Run apply command for previous version IMPORTANT: this command only uses releases when it guesses the versions, it does not handles SNAPSHOTs. If you want to rollback to a snapshot, ensure to configure previous* properties. TIP: this is equivalent to apply and delete commands successfully. For now it is recommended to do both manually.\nversion: Shows the application version.\nversions: List versions for an artifact to know which ones are available.","title":"Bundlebee Maven Plugin","url":"//yupiik.github.io/bundlebee/maven/bundlebee-maven-plugin.html"},{"lang":"en","lvl2":"Configuration","text":"Cipher a password to put it in ~/.m2/settings.xml servers (useful for deploy command for example).\nName: cipher-password.\nPassword value to cipher (auto generates a random one). Default value: auto","title":"Cipher-password","url":"//yupiik.github.io/bundlebee/commands/cipher-password.configuration.html"},{"lang":"en","lvl2":"Configuration","text":"Generate a master password if none exist (in ~/.m2/settings-security.xml)\nName: create-master-password.\nMaster password value, if auto it will be generated. Default value: auto","title":"Create-master-password","url":"//yupiik.github.io/bundlebee/commands/create-master-password.configuration.html"},{"lang":"en","lvl2":"Configuration","lvl3":"Inherited Global Configuration","text":"Delete an alveolus deployment by deleting all related descriptors. bundlebee.delete.propagationPolicy can be set in descriptor(s) metadata to force default CLI behavior for this descriptor.\nName: delete.\nAlveolus name to rollback (in currently deployed version). When set to auto, it will look up all manifests found in the classpath (it is not recommended until you perfectly know what you do). If you set manifest option, alveolus is set to auto and there is a single alveolus in it, this will default to it instead of using classpath deployment. Default value: auto\nIf an integer > 0, how long (ms) to await for the actual deletion of components, default does not await.\nRoot dependency to download to get the manifest. If set to auto it is assumed to be present in current classpath. Default value: auto\nIf set it will be added on REST calls to force a custom grace period (in seconds). Setting it to 0 enables to delete faster objects.\nManifest to load to start to find the alveolus. This optional setting mainly enables to use dependencies easily. Ignored if set to skip. Default value: skip\nfor these configurations, don’t hesitate to use ~/.bundlebeerc or --config-file <path to config> (just remove the -- prefix from option keys).\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto","title":"Delete","url":"//yupiik.github.io/bundlebee/commands/delete.configuration.html"},{"lang":"en","lvl2":"Configuration","lvl3":"Inherited Global Configuration","text":"Build and deploy a project. It inherits from most configuration of build command and adds remote repository settings.\nName: deploy.\nBundle artifactId.\nWhere to build (for build/temp files). Default value: target\nIf true it will be added to your local maven repository too. Default value: true\nProject to build. Default value: .\nIf true it enables to upload an artifact even if already present. When auto it enables it for snapshots but not for releases. Default value: auto\nBundle groupId.\nIf not skip it will deploy the artifact on a remote repository (nexus v2 or v3). Syntax must be a URL pointing to the REST API (base URL). If you don’t set the userinfo (username:password) in the URL it will be looked up in your settings.xml - potentially ciphered - using the hostname as serverId until you force it with --serverId. Default value: skip\nNexus repository. It is the repository name the artifact(s) will be uploaded to. If auto, it will be maven-releases if the version is a release one and maven-snapshots otherwise. Default value: auto\nServerId to lookup from your maven settings.xml for remote deployment if enabled (nexus authentication).\nBundle version.\nfor these configurations, don’t hesitate to use ~/.bundlebeerc or --config-file <path to config> (just remove the -- prefix from option keys).\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto","title":"Deploy","url":"//yupiik.github.io/bundlebee/commands/deploy.configuration.html"},{"lang":"en","lvl2":"Installation\nCreate your first alveolus","lvl3":"Java Mode\nBinary\nPre-requisite\nStart with a maven project\nStart from scratch (without Java and Maven)","text":"Ensure to use java >= 11.0.7 (previous Java 11 versions can work but have an issue with TLS HTTP client you can hit).\nDownload the bundlebee-core fat har:\nYou can now run it with the command: ``.\nas of today, no release of BundleBee are on central yet so this script does not yet work.\nthis only works for linux amd64 computers.\nBundleBee assumes it is installed itself indeed but depending how you package your alveolus it can require Java (>= 8) and Maven. If they are not installed on your system, we encourage you to use sdkman to do so.\nthis can be replaced by any zip packager and is not a strong requirement.\nThere are a ton of ways to create a maven projects but here is the simplest one:\nThen you can go in my-app-alveolus/. You can run mvn package to ensure your java/maven setup is correct.\nAt that stage we can start working on our alveolus but if you want to be \"purist\" you can clean up the default skaffolded project: rm -Rf src/test/ src/main/java/.\nTo start working on our alveolus, we will create src/main/resources/bundlebee folder: mkdir -p src/main/resources/bundlebee.\nAt that stage your project should look like:\nTo describe an application, you have to create a manifest.json file in this bundlebee folder:\nAnd add the referenced Kubernetes descriptor in kubernetes subfolder:\nNow you can install your alveolus: mvn install.\nThis will create a target/my-app-alveolus-1.0-SNAPSHOT.jar file which is the entry point to deploy your application.\nNow you can deploy this executing bundlebee apply --from com.company:my-app-alveolus:1.0-SNAPSHOT --descriptor hello.\nAnd that’s it, now hello world application should be up and running in your Kubernetes cluster.\nit is more than encouraged to name the kubernetes descriptor based on the project unique identifier. For example <groupId>.<artifactId>.<alveolus_name>.yaml. It will avoid conflicts when multiple alveolus are in the same classpath using native java mode and not file driven mode.\nIn this part we will reuse the descriptors of Start with maven section so we will just show how to bundle without Java/Maven the alveolus.\nThe overall goal is to create a zip containing the manifest.json and the Kubernetes descriptor. Here is a small script helping to do that:\nThe name of the project (will create a root directory with this name)\nCreate the alveolus structure\nNow you can copy the descriptors as in Start with maven section in my-app-alveolus/bundlebee/ folder.\nOnce done we just have to bundle it as a zip. One option on UNIx system is to use this command:\nReuse the same setup than in previous script\nCreate a zip containing the alveolus structure using zip command\nAnd that’s it.\nthis trick to create a zip can be adapted to any language (javascript, typescript, go, python, ruby, …) and enables to bundle an alveolus in any build tool very easily.","title":"Getting Started","url":"//yupiik.github.io/bundlebee/getting-started.html"},{"lang":"en","lvl2":"Configuration","lvl3":"Inherited Global Configuration","text":"Print help for all available commands.\nName: help.\nWhich command to show help for. If not set it will show all commands.\nfor these configurations, don’t hesitate to use ~/.bundlebeerc or --config-file <path to config> (just remove the -- prefix from option keys).\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto","title":"Help","url":"//yupiik.github.io/bundlebee/commands/help.configuration.html"},{"lang":"en","lvl2":"Overall architecture\nManifest\nDeployment and Dependency Management\nCustomize descriptors\nDeploy a dependency (or descriptor) conditionally\nFilter manifest at command time\nWindows and CLI","lvl3":"Manifest Descriptor\nJSON-Schema","text":"One of the BundleBee goals is to inherit from the well known and supported Apache Maven infrastructure. In other words, the goal is to be able to reuse Maven registries (central, custom nexus, artifactory, …) to store application descriptors. It also leverage the well know java packaging (jar or zip) to ensure a strong storage reliability in these systems.\nOne direct benefit is that it becomes very easy to have an immutable system once deployed and therefore a better tracability of what is deployed.\nOverall, BundleBee will manipulate what we call alveolus which are basically just a set of descriptors. An alveolus is a zip or a jar which is structured this way:\nA bundlebee folder contains all the descriptors\nA manifest.json contains the list of application or library this alveolus provides\nA kubenetes folder contains the list of descriptors used by alveoli\nManifest is the central point of the system. It provides the unique identifier of your recipe (application/library) and what to do to set it up.\nHere is its configuration specification:\nBundleBee manifest descriptor.\nName\nJSON Name\nType\nDescription\nManifest.alveoli\nalveoli\narray of object\nList of described applications/libraries.\nname\nstring\nName of the alveolus (recipe). It must be unique accross the whole classpath. Using maven style identifier, it is recommended to name it <groupId>:<artifactId>:<version> using maven filtering but it is not enforced.\nversion\nIf name does not follow <groupId>:<artifactId>:<version> naming (i.e. version can’t be extracted from the name) then you can specify the version there. Note that if set, this is used in priority (explicit versus deduced).\nAlveolus.dependencies\ndependencies\nDependencies of this alveolus. It is a way to import transitively a set of descriptors.\nAlveolus.descriptors\ndescriptors\nList of descriptors to install for this alveolus. This is required even if an empty array.\nAlveolus.excludedDescriptors\nexcludedDescriptors\nList of descriptors to ignore for this alveolus (generally coming from dependencies).\nAlveolus.patches\npatches\nPatches on descriptors. It enables to inject configuration in descriptors by patching (using JSON-Patch or plain interpolation with ${key} values) their JSON representation. The key is the descriptor name and each time the descriptor is found it will be applied.\nlocation\nWhere to find the alveolus. Note it will ensure the jar is present on the local maven repository.\nAlveolus name.\nDescriptor.includeIf\nincludeIf\nobject\nConditions to include this dependency. Enables for example to have an environment variable enabling part of the stack (ex: MONITORING=true)\ninterpolate\nbool\nIf set to true, it will interpolate the descriptor just before applying it - i.e. after it had been patched if needed. You can use --<config-key> <value> to inject bindings set as {{config-key:-default value}}.\nOptional, if coming form another manifest, the dependency to download to get the alveolus.\nName of the descriptor to install. For kubernetes descriptors you can omit the .yaml extension.\ntype\nType of this descriptor. For now only kubernetes is supported. It also defines in which folder under bundlebee the descriptor(s) are looked for from its name.\nConditions to include this descriptor.\noperator\nOperator to combine the conditions. Potential values: ANY (At least one condition must match.),ALL (All conditions must match.).\nConditions.conditions\nconditions\nList of condition to match according operator.\nkey\nExpected key. If empty/null condition is ignored. If read value is null it defaults to an empty string.\nnegate\nShould the condition be reversed (ie \"not in this case\").\nType of condition. Potential values: ENV (Key is read is process environment variables.),SYSTEM_PROPERTY (Key is read is process system properties.).\nvalue\nExpected value. If empty/null, true is assumed. Note that empty is allowed.\nThe container of the descriptor (maven coordinates generally).\nName of the descriptor (as declared, ie potentially without the extension).\ndescriptorName\nThe descriptor to patch. It can be any descriptor, including transitive ones. It can be * to patch all descriptors (/metadata/label/app for example) or regex:<java pattern> to match descriptor names with a regex.\nIf set to true, it will interpolate the patch from the execution configuration which means you can use --<config-key> <value> to inject bindings too.\npatch\nJSON-Patch to apply on the JSON representation of the descriptor. It enables to inject configuration in descriptors for example, or changing some name/application.\nIf you use JSON-Schema facilities in your preferred editor, here is the raw JSON-Schema for the manifest descriptor:\nyou can also use last version from this link.\nA manifest can reference descriptors in other alveoli, it just requires to reference them to let bundlebee find them.\nThere are mainly two ways to deploy an alveolus:\nClasspath mode: you put all your zip/jar in the classpath. This mode requires there is no conflict between descriptor names (which is the recommended practise) and it will never look for external descriptors. It is typically a recommended mode to avoid network I/O except with the Kubernetes cluster.\nFetch mode: in this mode, a missing descriptor in the classpath will look for descriptor.location and lookup the jar/zip referenced by this location (generally a maven coordinate in the form groupId:artifactId:version). It will first use your local Maven repository but can download the jar/zip if missing locally. Then the jar/zip is read and descriptors are looked up from there. This mode is nicer when depending on a lot of external alveoli but requires I/O to grab the dependencies.\nIndeed, you can bundle all your stack and hardcode your configuration or create one alveolus per environment. This is one option which works well and enable to version its configuration.\nHowever, for testing purposes, it is also neat to be able to patch descriptors on the fly. For that you can use descriptor.patches in the manifest which will transitively enable to patch the descriptors - even the ones you don’t own - using JSON-Patch and interpolations.\nHere are some examples.\nWe add to the alveolus a list of patches to apply on some descriptors\nWe reference the descriptor to patch\nWe enable interpolation from Microprofile Config (which include CLI args)\nWe define the JSON-Patch to use (optional, interpolation will also interpolate the descriptor if designed to be interpolated)\nWe use an interpolation in the configuration in the JSON-Patch replace operation which replaces the data of the referenced ConfigMap\nthis mecanism is very useful for ConfigMap descriptors but also PersistenceVolume since you can now patch `/spec/hostPath `easily too.\nIn some case it can be neat to be able to not deploy part of the stack. It is typically the case when you wrote a monitoring-full alveolus (ie with some optional services functionally). In such a case you can condition dependencies and descriptor deployment:\nused on descriptors and using a complete set of conditions for descriptors you can handle environments this way (ENV=preprod for descriptor preprod.configmap for example).\nIn some case it can be needed to evaluate some values of the manifest when executing the command. Even if not recommended it can be done using {{xxx}} placeholders - read from environment variables and system properties.\nWith this manifest you can value project.version and bundlebee.version using the command line:\nOn windows, the usage of the Java mode is recommended and the most reliable, however, if you want to speed up a bit the execution you can run the native bundlebee executable in a docker image.\nensure to test this solution on your machine, on our test machine gain can be x2 but it depends the docker setup too.\nOnce done you would be able to replace bundlebee by docker run bundlebee -v $HOME/.kube/config:/kube/config -e KUBECONFIG=/kube/config --network host (use an alias ;)).\nHere are the step to use this solution:\nDownload bundlebee native binary, for that go on https://repo.maven.apache.org/maven2/io/yupiik/bundlebee-core/, select the version you want and download the file ending with Linux-amd64,\nCreate this Dockerfile file next to the binary you just downloaded and renamed bundlebee:\nRun docker build -t bundlebee . in the folder you put bundlebee binary and previous Dockerfile\nthis dockerfile works as of today because binaries are build on Ubuntu 20.10, you can need to adjust a bit libraries if this changes - this is why Java mode is simpler.","title":"How it works","url":"//yupiik.github.io/bundlebee/how-it-works.html"},{"lang":"en","lvl2":"Configuration","lvl3":"Inherited Global Configuration","text":"Execute a HTTP request over Kubernetes client. This is mainly for not yet existing commands and to reuse all the client auto-configuration.\nName: http.\nIf true, an exception if thrown if the status is not between 200 and 299 (making the execution a failure). Default value: true\nRequest HTTP headers (in properties format). Default value:\nHTTP verb to use for the request. Default value: GET\nHTTP request path (optionally with query parameters). You can use the absolute kubernetes URL but if the value does not start with a protocol (http or https) then it will be prefixed by the Kubernetes API base. Default value: /api/\nHTTP payload to use for the request - skipped for method different from PATCH, POST and PUT. Default value: ``\nIf true, only the payload of the response will be logged if successful. Default value: true\nfor these configurations, don’t hesitate to use ~/.bundlebeerc or --config-file <path to config> (just remove the -- prefix from option keys).\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto","title":"Http","url":"//yupiik.github.io/bundlebee/commands/http.configuration.html"},{"lang":"en","text":"","title":"Index","url":"//yupiik.github.io/bundlebee/index.html"},{"lang":"en","lvl2":"Configuration","lvl3":"Inherited Global Configuration","text":"Inspect an alveolus, i.e. list the descriptors to apply.\nName: inspect.\nAlveolus name to inspect. When set to auto, it will look for all manifests found in the classpath. If you set manifest option, alveolus is set to auto and there is a single alveolus in it, this will default to it instead of using classpath deployment. Default value: auto\nIf set only this descriptor is logged, not that you can use a regex if you make the value prefixed with r/. Note it generally only makes sense with verbose option.\nRoot dependency to download to get the manifest. If set to auto it is assumed to be present in current classpath. Default value: auto\nManifest to load to start to find the alveolus. This optional setting mainly enables to use dependencies easily. Ignored if set to skip. Default value: skip\nIf true, descriptors are logged too. Default value: false\nfor these configurations, don’t hesitate to use ~/.bundlebeerc or --config-file <path to config> (just remove the -- prefix from option keys).\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto","title":"Inspect","url":"//yupiik.github.io/bundlebee/commands/inspect.configuration.html"},{"lang":"en","lvl2":"Configuration","text":"Creates a new project.\nName: new.\nBundle artifactId.\nWhere to create the project. If not set it will use the artifact value in current folder.\nIf true the execution runs even if dir already exists. Default value: false\nBundle groupId.\nIf true no pom.xml is generated. Default value: false\nBy default a sample alveolus with a config map is generated, if false it will be skipped. Default value: false\nBundle version. Default value: 1.0.0","title":"New","url":"//yupiik.github.io/bundlebee/commands/new.configuration.html"},{"lang":"en","lvl2":"Configuration","lvl3":"Inherited Global Configuration","text":"Rollback an alveolus deployment.\nThe strategy is the following one:\nLoad current alveolus (recursively) to list all descriptors in \"current\" version\nFind previous version if not explicit (by choosing the first previous on in the list of available version on maven repository)\nRun delete command for current version\nRun apply command for previous version\nthis command only uses releases when it guesses the versions, it does not handles SNAPSHOTs. If you want to rollback to a snapshot, ensure to configure previous* properties.\nthis is equivalent to apply and delete commands successfully. For now it is recommended to do both manually.\nName: rollback.\nAlveolus name to rollback (in currently deployed version). When set to auto, it will look up all manifests found in the classpath (it is not recommended until you perfectly know what you do). If you set manifest option, alveolus is set to auto and there is a single alveolus in it, this will default to it instead of using classpath deployment. Default value: auto\nIf an integer > 0, how long (ms) to await for the actual deletion of components - before redeploying. Default value: 120000\nRoot dependency to download to get the manifest. If set to auto it is assumed to be present in current classpath. Default value: auto\nIf set it will be added on REST calls to force a custom grace period (in seconds). Setting it to 0 enables to delete faster objects.\nManifest to load to start to find the alveolus. This optional setting mainly enables to use dependencies easily. Ignored if set to skip. Default value: skip\nA pause (in ms) between delete and apply phases, this can some environment to release all resources related to deleted components. Default value: 0\nAlveolus name to install as rollback. Default value: auto\nSame as from but for the previous alveolus to install. Default value: auto\nSame as manifest but for the previous alveolus to install. Default value: skip\nIf true, and previous alveolus is not defined on the CLI, we will query the release repository to find available versions. If the alveolus name does not match <groupId>:<artifactId>:<version>[:<type>:<classifier>] pattern then a heuristic is used instead. Default value: true\nfor these configurations, don’t hesitate to use ~/.bundlebeerc or --config-file <path to config> (just remove the -- prefix from option keys).\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto","title":"Rollback","url":"//yupiik.github.io/bundlebee/commands/rollback.configuration.html"},{"lang":"en","lvl2":"Custom configuration","text":"BundleBee supports a user configuration. It means you change some defaults for your local setup creating a file ~/.bundlebeerc.\nThe syntax is a standard properties one.\nHere are the supported configurations:\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto\nthis also applies for command configuration so you can also force some defaults for your most used commands this way.\nYou can also set a custom configuration file using --config-file. This enables to run a command with a custom set of configuration:","title":"User Configuration","url":"//yupiik.github.io/bundlebee/user-configuration.html"},{"lang":"en","lvl2":"Configuration","text":"Shows the application version.\nName: version.\nNo configuration.","title":"Version","url":"//yupiik.github.io/bundlebee/commands/version.configuration.html"},{"lang":"en","lvl2":"Configuration","lvl3":"Inherited Global Configuration","text":"List versions for an artifact to know which ones are available.\nName: versions.\nBundle artifactId.\nBundle groupId.\nfor these configurations, don’t hesitate to use ~/.bundlebeerc or --config-file <path to config> (just remove the -- prefix from option keys).\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false\nWhen kubeconfig is not set the namespace to use. Default value: default\nShould SSL connector be validated or not. Default value: true\nIf true http requests/responses to Kubernetes will be logged. Default value: false\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/\nDefault snapshot repository, not set by default.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto","title":"Versions","url":"//yupiik.github.io/bundlebee/commands/versions.configuration.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Adds a service to the alveoli available in the defined folder. It is a skaffolding command.\nTo call this goal from the command line execute: mvn bundlebee:add-alveolus.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:add-alveolus@my-execution command.\nAlveolus name. Default value: ${project.groupId}:${project.artifactId}:${project.version}. Property: ${bundlebee.add-alveolus.alveolus}.\nDeployment image. Default value: <unset>. Property: ${bundlebee.add-alveolus.image}.\nManifest to add the aveolus inside. Default value: ${project.build.outputDirectory}/bundlebee/manifest.json. Property: ${bundlebee.add-alveolus.manifest}.\nIf false, generated files already existing will be skipped. Default value: false. Property: ${bundlebee.add-alveolus.overwrite}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.\nAlveolus/template type. web will create a ConfigMap, Deployment and Service. Default value: web. Property: ${bundlebee.add-alveolus.type}.","title":"bundlebee:add-alveolus","url":"//yupiik.github.io/bundlebee/maven/add-alveolus.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Apply/deploy a set of descriptors from a root one.\nTo call this goal from the command line execute: mvn bundlebee:apply.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:apply@my-execution command.\nAlveolus name to deploy. When set to auto, it will deploy all manifests found in the classpath. If you set manifest option, alveolus is set to auto and there is a single alveolus in it, this will default to it instead of using classpath deployment. Default value: auto. Property: ${bundlebee.apply.alveolus}.\nRoot dependency to download to get the manifest. If set to auto it is assumed to be present in current classpath. Default value: auto. Property: ${bundlebee.apply.from}.\nIf true, bundlebee.* labels will be injected into the descritors. This is required for rollback command to work. Default value: true. Property: ${bundlebee.apply.injectBundleBeeMetadata}.\nIf true, a bundlebee.timestamp label will be injected into the descritors with current date before applying the descriptor. Default value: true. Property: ${bundlebee.apply.injectTimestamp}.\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080. Property: ${bundlebee.kube.api}.\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself. Default value: <unset>. Property: ${bundlebee.kube.context}.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground. Property: ${bundlebee.kube.defaultPropagationPolicy}.\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false. Property: ${bundlebee.kube.dryRun}.\nWhen kubeconfig is not set the namespace to use. Default value: default. Property: ${bundlebee.kube.namespace}.\nShould SSL connector be validated or not. Default value: true. Property: ${bundlebee.kube.validateSSL}.\nIf true http requests/responses to Kubernetes will be logged. Default value: false. Property: ${bundlebee.kube.verbose}.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto. Property: ${kubeconfig}.\nManifest to load to start to deploy (a file path or inline). This optional setting mainly enables to use dependencies easily. Ignored if set to skip. Default value: skip. Property: ${bundlebee.apply.manifest}.\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto. Property: ${bundlebee.maven.cache}.\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false. Property: ${bundlebee.maven.forceCustomSettingsXml}.\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000. Property: ${bundlebee.maven.http.connectTimeout}.\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true. Property: ${bundlebee.maven.preferCustomSettingsXml}.\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false. Property: ${bundlebee.maven.repositories.downloads.enabled}.\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header. Default value: <unset>. Property: ${bundlebee.maven.repositories.httpHeaders}.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/. Property: ${bundlebee.maven.repositories.release}.\nDefault snapshot repository, not set by default. Default value: <unset>. Property: ${bundlebee.maven.repositories.snapshot}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.","title":"bundlebee:apply","url":"//yupiik.github.io/bundlebee/maven/apply.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Build a project.\nTo call this goal from the command line execute: mvn bundlebee:build.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:build@my-execution command.\nBundle artifactId. Default value: ${project.artifactId}. Property: ${bundlebee.build.artifact}.\nProject to build. Default value: target. Property: ${bundlebee.build.builddir}.\nIf true it will be added to your local maven repository. Default value: true. Property: ${bundlebee.build.deployInLocalRepository}.\nProject to build. Default value: .. Property: ${bundlebee.build.dir}.\nBundle groupId. Default value: ${project.groupId}. Property: ${bundlebee.build.group}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.\nBundle version. Default value: ${project.version}. Property: ${bundlebee.build.version}.","title":"bundlebee:build","url":"//yupiik.github.io/bundlebee/maven/build.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Cipher a password to put it in ~/.m2/settings.xml servers (useful for deploy command for example).\nTo call this goal from the command line execute: mvn bundlebee:cipher-password.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:cipher-password@my-execution command.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nPassword value to cipher (auto generates a random one). Default value: auto. Property: ${bundlebee.cipher-password.password}.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.","title":"bundlebee:cipher-password","url":"//yupiik.github.io/bundlebee/maven/cipher-password.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Generate a master password if none exist (in ~/.m2/settings-security.xml)\nTo call this goal from the command line execute: mvn bundlebee:create-master-password.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:create-master-password@my-execution command.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nMaster password value, if auto it will be generated. Default value: auto. Property: ${bundlebee.create-master-password.password}.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.","title":"bundlebee:create-master-password","url":"//yupiik.github.io/bundlebee/maven/create-master-password.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Delete an alveolus deployment by deleting all related descriptors. bundlebee.delete.propagationPolicy can be set in descriptor(s) metadata to force default CLI behavior for this descriptor.\nTo call this goal from the command line execute: mvn bundlebee:delete.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:delete@my-execution command.\nAlveolus name to rollback (in currently deployed version). When set to auto, it will look up all manifests found in the classpath (it is not recommended until you perfectly know what you do). If you set manifest option, alveolus is set to auto and there is a single alveolus in it, this will default to it instead of using classpath deployment. Default value: auto. Property: ${bundlebee.delete.alveolus}.\nIf an integer > 0, how long (ms) to await for the actual deletion of components, default does not await. Default value: <unset>. Property: ${bundlebee.delete.awaitTimeout}.\nRoot dependency to download to get the manifest. If set to auto it is assumed to be present in current classpath. Default value: auto. Property: ${bundlebee.delete.from}.\nIf set it will be added on REST calls to force a custom grace period (in seconds). Setting it to 0 enables to delete faster objects. Default value: <unset>. Property: ${bundlebee.delete.gracePeriodSeconds}.\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080. Property: ${bundlebee.kube.api}.\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself. Default value: <unset>. Property: ${bundlebee.kube.context}.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground. Property: ${bundlebee.kube.defaultPropagationPolicy}.\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false. Property: ${bundlebee.kube.dryRun}.\nWhen kubeconfig is not set the namespace to use. Default value: default. Property: ${bundlebee.kube.namespace}.\nShould SSL connector be validated or not. Default value: true. Property: ${bundlebee.kube.validateSSL}.\nIf true http requests/responses to Kubernetes will be logged. Default value: false. Property: ${bundlebee.kube.verbose}.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto. Property: ${kubeconfig}.\nManifest to load to start to find the alveolus. This optional setting mainly enables to use dependencies easily. Ignored if set to skip. Default value: skip. Property: ${bundlebee.delete.manifest}.\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto. Property: ${bundlebee.maven.cache}.\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false. Property: ${bundlebee.maven.forceCustomSettingsXml}.\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000. Property: ${bundlebee.maven.http.connectTimeout}.\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true. Property: ${bundlebee.maven.preferCustomSettingsXml}.\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false. Property: ${bundlebee.maven.repositories.downloads.enabled}.\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header. Default value: <unset>. Property: ${bundlebee.maven.repositories.httpHeaders}.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/. Property: ${bundlebee.maven.repositories.release}.\nDefault snapshot repository, not set by default. Default value: <unset>. Property: ${bundlebee.maven.repositories.snapshot}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.","title":"bundlebee:delete","url":"//yupiik.github.io/bundlebee/maven/delete.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Build and deploy a project. It inherits from most configuration of build command and adds remote repository settings.\nTo call this goal from the command line execute: mvn bundlebee:deploy.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:deploy@my-execution command.\nBundle artifactId. Default value: ${project.artifactId}. Property: ${bundlebee.deploy.artifact}.\nWhere to build (for build/temp files). Default value: target. Property: ${bundlebee.deploy.builddir}.\nIf true it will be added to your local maven repository too. Default value: true. Property: ${bundlebee.deploy.deployInLocalRepository}.\nProject to build. Default value: .. Property: ${bundlebee.deploy.dir}.\nIf true it enables to upload an artifact even if already present. When auto it enables it for snapshots but not for releases. Default value: auto. Property: ${bundlebee.deploy.enableReUpload}.\nBundle groupId. Default value: ${project.groupId}. Property: ${bundlebee.deploy.group}.\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080. Property: ${bundlebee.kube.api}.\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself. Default value: <unset>. Property: ${bundlebee.kube.context}.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground. Property: ${bundlebee.kube.defaultPropagationPolicy}.\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false. Property: ${bundlebee.kube.dryRun}.\nWhen kubeconfig is not set the namespace to use. Default value: default. Property: ${bundlebee.kube.namespace}.\nShould SSL connector be validated or not. Default value: true. Property: ${bundlebee.kube.validateSSL}.\nIf true http requests/responses to Kubernetes will be logged. Default value: false. Property: ${bundlebee.kube.verbose}.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto. Property: ${kubeconfig}.\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto. Property: ${bundlebee.maven.cache}.\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false. Property: ${bundlebee.maven.forceCustomSettingsXml}.\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000. Property: ${bundlebee.maven.http.connectTimeout}.\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true. Property: ${bundlebee.maven.preferCustomSettingsXml}.\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false. Property: ${bundlebee.maven.repositories.downloads.enabled}.\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header. Default value: <unset>. Property: ${bundlebee.maven.repositories.httpHeaders}.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/. Property: ${bundlebee.maven.repositories.release}.\nDefault snapshot repository, not set by default. Default value: <unset>. Property: ${bundlebee.maven.repositories.snapshot}.\nIf not skip it will deploy the artifact on a remote repository (nexus v2 or v3). Syntax must be a URL pointing to the REST API (base URL). If you don’t set the userinfo (username:password) in the URL it will be looked up in your settings.xml - potentially ciphered - using the hostname as serverId until you force it with --serverId. Default value: skip. Property: ${bundlebee.deploy.nexusBaseApi}.\nNexus repository. It is the repository name the artifact(s) will be uploaded to. If auto, it will be maven-releases if the version is a release one and maven-snapshots otherwise. Default value: auto. Property: ${bundlebee.deploy.nexusRepository}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nServerId to lookup from your maven settings.xml for remote deployment if enabled (nexus authentication). Default value: <unset>. Property: ${bundlebee.deploy.serverId}.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.\nBundle version. Default value: ${project.version}. Property: ${bundlebee.deploy.version}.","title":"bundlebee:deploy","url":"//yupiik.github.io/bundlebee/maven/deploy.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Execute a HTTP request over Kubernetes client. This is mainly for not yet existing commands and to reuse all the client auto-configuration.\nTo call this goal from the command line execute: mvn bundlebee:http.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:http@my-execution command.\nIf true, an exception if thrown if the status is not between 200 and 299 (making the execution a failure). Default value: true. Property: ${bundlebee.http.failOnError}.\nRequest HTTP headers (in properties format). Default value: Accept: application/jsonnContent-Type: application/json. Property: ${bundlebee.http.headers}.\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080. Property: ${bundlebee.kube.api}.\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself. Default value: <unset>. Property: ${bundlebee.kube.context}.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground. Property: ${bundlebee.kube.defaultPropagationPolicy}.\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false. Property: ${bundlebee.kube.dryRun}.\nWhen kubeconfig is not set the namespace to use. Default value: default. Property: ${bundlebee.kube.namespace}.\nShould SSL connector be validated or not. Default value: true. Property: ${bundlebee.kube.validateSSL}.\nIf true http requests/responses to Kubernetes will be logged. Default value: false. Property: ${bundlebee.kube.verbose}.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto. Property: ${kubeconfig}.\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto. Property: ${bundlebee.maven.cache}.\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false. Property: ${bundlebee.maven.forceCustomSettingsXml}.\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000. Property: ${bundlebee.maven.http.connectTimeout}.\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true. Property: ${bundlebee.maven.preferCustomSettingsXml}.\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false. Property: ${bundlebee.maven.repositories.downloads.enabled}.\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header. Default value: <unset>. Property: ${bundlebee.maven.repositories.httpHeaders}.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/. Property: ${bundlebee.maven.repositories.release}.\nDefault snapshot repository, not set by default. Default value: <unset>. Property: ${bundlebee.maven.repositories.snapshot}.\nHTTP verb to use for the request. Default value: GET. Property: ${bundlebee.http.method}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nHTTP request path (optionally with query parameters). You can use the absolute kubernetes URL but if the value does not start with a protocol (http or https) then it will be prefixed by the Kubernetes API base. Default value: /api/. Property: ${bundlebee.http.path}.\nHTTP payload to use for the request - skipped for method different from PATCH, POST and PUT. Default value: `. Property: `${bundlebee.http.payload}.\nIf true, only the payload of the response will be logged if successful. Default value: true. Property: ${bundlebee.http.payloadOnly}.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.","title":"bundlebee:http","url":"//yupiik.github.io/bundlebee/maven/http.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Inspect an alveolus, i.e. list the descriptors to apply.\nTo call this goal from the command line execute: mvn bundlebee:inspect.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:inspect@my-execution command.\nAlveolus name to inspect. When set to auto, it will look for all manifests found in the classpath. If you set manifest option, alveolus is set to auto and there is a single alveolus in it, this will default to it instead of using classpath deployment. Default value: auto. Property: ${bundlebee.inspect.alveolus}.\nIf set only this descriptor is logged, not that you can use a regex if you make the value prefixed with r/. Note it generally only makes sense with verbose option. Default value: <unset>. Property: ${bundlebee.inspect.descriptor}.\nRoot dependency to download to get the manifest. If set to auto it is assumed to be present in current classpath. Default value: auto. Property: ${bundlebee.inspect.from}.\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080. Property: ${bundlebee.kube.api}.\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself. Default value: <unset>. Property: ${bundlebee.kube.context}.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground. Property: ${bundlebee.kube.defaultPropagationPolicy}.\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false. Property: ${bundlebee.kube.dryRun}.\nWhen kubeconfig is not set the namespace to use. Default value: default. Property: ${bundlebee.kube.namespace}.\nShould SSL connector be validated or not. Default value: true. Property: ${bundlebee.kube.validateSSL}.\nIf true http requests/responses to Kubernetes will be logged. Default value: false. Property: ${bundlebee.kube.verbose}.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto. Property: ${kubeconfig}.\nManifest to load to start to find the alveolus. This optional setting mainly enables to use dependencies easily. Ignored if set to skip. Default value: skip. Property: ${bundlebee.inspect.manifest}.\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto. Property: ${bundlebee.maven.cache}.\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false. Property: ${bundlebee.maven.forceCustomSettingsXml}.\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000. Property: ${bundlebee.maven.http.connectTimeout}.\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true. Property: ${bundlebee.maven.preferCustomSettingsXml}.\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false. Property: ${bundlebee.maven.repositories.downloads.enabled}.\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header. Default value: <unset>. Property: ${bundlebee.maven.repositories.httpHeaders}.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/. Property: ${bundlebee.maven.repositories.release}.\nDefault snapshot repository, not set by default. Default value: <unset>. Property: ${bundlebee.maven.repositories.snapshot}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.\nIf true, descriptors are logged too. Default value: false. Property: ${bundlebee.inspect.verbose}.","title":"bundlebee:inspect","url":"//yupiik.github.io/bundlebee/maven/inspect.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Creates a new project.\nTo call this goal from the command line execute: mvn bundlebee:new.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:new@my-execution command.\nBundle artifactId. Default value: ${project.artifactId}. Property: ${bundlebee.new.artifact}.\nWhere to create the project. If not set it will use the artifact value in current folder. Default value: ${project.build.outputDirectory}. Property: ${bundlebee.new.dir}.\nIf true the execution runs even if dir already exists. Default value: true. Property: ${bundlebee.new.force}.\nBundle groupId. Default value: ${project.groupId}. Property: ${bundlebee.new.group}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.\nIf true no pom.xml is generated. Default value: true. Property: ${bundlebee.new.skipPom}.\nBy default a sample alveolus with a config map is generated, if false it will be skipped. Default value: true. Property: ${bundlebee.new.skipSamples}.\nBundle version. Default value: ${project.version}. Property: ${bundlebee.new.version}.","title":"bundlebee:new","url":"//yupiik.github.io/bundlebee/maven/new.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Rollback an alveolus deployment. The strategy is the following one: * Load current alveolus (recursively) to list all descriptors in \"current\" version * Find previous version if not explicit (by choosing the first previous on in the list of available version on maven repository) * Run delete command for current version * Run apply command for previous version IMPORTANT: this command only uses releases when it guesses the versions, it does not handles SNAPSHOTs. If you want to rollback to a snapshot, ensure to configure previous* properties. TIP: this is equivalent to apply and delete commands successfully. For now it is recommended to do both manually.\nTo call this goal from the command line execute: mvn bundlebee:rollback.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:rollback@my-execution command.\nAlveolus name to rollback (in currently deployed version). When set to auto, it will look up all manifests found in the classpath (it is not recommended until you perfectly know what you do). If you set manifest option, alveolus is set to auto and there is a single alveolus in it, this will default to it instead of using classpath deployment. Default value: auto. Property: ${bundlebee.rollback.alveolus}.\nIf an integer > 0, how long (ms) to await for the actual deletion of components - before redeploying. Default value: 120000. Property: ${bundlebee.rollback.awaitTimeout}.\nRoot dependency to download to get the manifest. If set to auto it is assumed to be present in current classpath. Default value: auto. Property: ${bundlebee.rollback.from}.\nIf set it will be added on REST calls to force a custom grace period (in seconds). Setting it to 0 enables to delete faster objects. Default value: <unset>. Property: ${bundlebee.rollback.gracePeriodSeconds}.\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080. Property: ${bundlebee.kube.api}.\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself. Default value: <unset>. Property: ${bundlebee.kube.context}.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground. Property: ${bundlebee.kube.defaultPropagationPolicy}.\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false. Property: ${bundlebee.kube.dryRun}.\nWhen kubeconfig is not set the namespace to use. Default value: default. Property: ${bundlebee.kube.namespace}.\nShould SSL connector be validated or not. Default value: true. Property: ${bundlebee.kube.validateSSL}.\nIf true http requests/responses to Kubernetes will be logged. Default value: false. Property: ${bundlebee.kube.verbose}.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto. Property: ${kubeconfig}.\nManifest to load to start to find the alveolus. This optional setting mainly enables to use dependencies easily. Ignored if set to skip. Default value: skip. Property: ${bundlebee.rollback.manifest}.\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto. Property: ${bundlebee.maven.cache}.\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false. Property: ${bundlebee.maven.forceCustomSettingsXml}.\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000. Property: ${bundlebee.maven.http.connectTimeout}.\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true. Property: ${bundlebee.maven.preferCustomSettingsXml}.\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false. Property: ${bundlebee.maven.repositories.downloads.enabled}.\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header. Default value: <unset>. Property: ${bundlebee.maven.repositories.httpHeaders}.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/. Property: ${bundlebee.maven.repositories.release}.\nDefault snapshot repository, not set by default. Default value: <unset>. Property: ${bundlebee.maven.repositories.snapshot}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nA pause (in ms) between delete and apply phases, this can some environment to release all resources related to deleted components. Default value: 0. Property: ${bundlebee.rollback.pause}.\nAlveolus name to install as rollback. Default value: auto. Property: ${bundlebee.rollback.previousAlveolus}.\nSame as from but for the previous alveolus to install. Default value: auto. Property: ${bundlebee.rollback.previousFrom}.\nSame as manifest but for the previous alveolus to install. Default value: skip. Property: ${bundlebee.rollback.previousManifest}.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.\nIf true, and previous alveolus is not defined on the CLI, we will query the release repository to find available versions. If the alveolus name does not match <groupId>:<artifactId>:<version>[:<type>:<classifier>] pattern then a heuristic is used instead. Default value: true. Property: ${bundlebee.rollback.useMavenVersioning}.","title":"bundlebee:rollback","url":"//yupiik.github.io/bundlebee/maven/rollback.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"Shows the application version.\nTo call this goal from the command line execute: mvn bundlebee:version.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:version@my-execution command.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.","title":"bundlebee:version","url":"//yupiik.github.io/bundlebee/maven/version.html"},{"lang":"en","lvl2":"Coordinates\nConfiguration","text":"List versions for an artifact to know which ones are available.\nTo call this goal from the command line execute: mvn bundlebee:versions.\nTo bind this goal in the build you can use:\nYou can execute this goal particularly with mvn bundlebee:versions@my-execution command.\nBundle artifactId. Default value: ${project.artifactId}. Property: ${bundlebee.versions.artifact}.\nBundle groupId. Default value: ${project.groupId}. Property: ${bundlebee.versions.group}.\nWhen kubeconfig is not set the base API endpoint. Default value: http://localhost:8080. Property: ${bundlebee.kube.api}.\nWhen kubeconfig (explicit or not) is used, the context to use. If not set it is taken from the kubeconfig itself. Default value: <unset>. Property: ${bundlebee.kube.context}.\nDefault value for deletions of propagationPolicy. Values can be Orphan, Foreground and Background. Default value: Foreground. Property: ${bundlebee.kube.defaultPropagationPolicy}.\nIf true http requests/responses are skipped. Note that dry run implies verbose=true for the http client. Note that as of today, all responses are mocked by a HTTP 200 and an empty JSON payload. Default value: false. Property: ${bundlebee.kube.dryRun}.\nWhen kubeconfig is not set the namespace to use. Default value: default. Property: ${bundlebee.kube.namespace}.\nShould SSL connector be validated or not. Default value: true. Property: ${bundlebee.kube.validateSSL}.\nIf true http requests/responses to Kubernetes will be logged. Default value: false. Property: ${bundlebee.kube.verbose}.\nKubeconfig location. If set to auto it will try to guess from your $HOME/.kube/config file until you set it so explicit where it will use other bundlebee.kube properties to create the client. Default value: auto. Property: ${kubeconfig}.\nWhere to cache maven dependencies. If set to auto, $HOME/.m2/repository is used. Default value: auto. Property: ${bundlebee.maven.cache}.\nIf true we only use cache value and never fallback on default maven settings.xml location. Default value: false. Property: ${bundlebee.maven.forceCustomSettingsXml}.\nWhen fetching a dependency using HTTP, the connection timeout for this dependency. Default value: 30000. Property: ${bundlebee.maven.http.connectTimeout}.\nIf false we first try to read settings.xml file(s) in cache location before the default one. Default value: true. Property: ${bundlebee.maven.preferCustomSettingsXml}.\nEnables to disable the download, i.e. ensure it runs only with local maven repository. Default value: false. Property: ${bundlebee.maven.repositories.downloads.enabled}.\nProperties to define the headers to set per repository, syntax is host1=headerName headerValue and it supports as much lines as used repositories. Note that you can use maven ~/.m2/settings.xml servers (potentially ciphered) username/password pairs. In this last case the server id must be bundlebee.<server host>. Still in settings.xml case, if the username is null the password value is used as raw Authorization header else username/password is encoded as a basic header. Default value: <unset>. Property: ${bundlebee.maven.repositories.httpHeaders}.\nDefault release repository. Default value: https://repo.maven.apache.org/maven2/. Property: ${bundlebee.maven.repositories.release}.\nDefault snapshot repository, not set by default. Default value: <unset>. Property: ${bundlebee.maven.repositories.snapshot}.\nCurrent module packaging. Default value: ${project.packaging}. Property: ``.\nSkip execution. Default value: false. Property: ${bundlebee.skip}.\nSkipped packaging types. Default value: pom. Property: ${bundlebee.skipPackaging}.","title":"bundlebee:versions","url":"//yupiik.github.io/bundlebee/maven/versions.html"},{"lang":"en","lvl2":"Maven Dependency\nDefault Configuration\nPorts\nSample Usage\nConfiguration","text":"Setup \"elasticsearch-local\" which runs an Elasticsearch instance usable by other applications.\n{{elasticsearch-local.discoveryType:-single-node}}\n{{elasticsearch-local.clusterName:-elasticsearch-local}}\n{{elasticsearch-local.javaOpts:--Dbundlebee=true}}\nName: elasticsearch\nPort: 9200\nTarget Port: 9200\nThe Elasticsearch cluster name. Default value: elasticsearch-local.\nThe discovery to use, default is for a single node so if you patch the descriptors to make it a cluster, ensure to tune it. Default value: single-node.\nThe elasticsearch image to use. Default value: elasticsearch:7.10.1.\nThe ES_JAVA_OPTS value. Default value: -Dbundlebee=true.\nWhere to store Elasticsearch data on the host. Default value: /data/elasticsearch-local.","title":"io.yupiik.alveoli:elasticsearch-local:1.0.2-SNAPSHOT","url":"//yupiik.github.io/bundlebee/alveoli/elasticsearch-local-io-yupiik-alveoli-elasticsearch-local.html"},{"lang":"en","lvl2":"Maven Dependency\nDefault Configuration\nPorts\nSample Usage\nConfiguration","text":"Simple Grafana instance, note we preconfigure it with Loki, Prometheus and Zipkin alveoli, ensure to override the configuration if you don’t use them.\nName: grafana\nProtocol: TCP\nPort: 3000\nTarget Port: 3000\nNode Port: 30300\non linux and with minikube you can access this service using http://$(minikube ip):30300 on your host.\nThe image to use. Default value: grafana/grafana:7.4.2.","title":"io.yupiik.alveoli:grafana-simple:1.0.2-SNAPSHOT","url":"//yupiik.github.io/bundlebee/alveoli/grafana-simple-io-yupiik-alveoli-grafana-simple.html"},{"lang":"en","lvl2":"Maven Dependency\nDefault Configuration\nPorts\nSample Usage\nConfiguration","text":"Loki setup to aggregate service logs using promtail, the prometheus for logs.\nName: loki (loki)\nProtocol: TCP\nPort: 3100\nTarget Port: 3100\nNode Port: 32100\non linux and with minikube you can access this service using http://$(minikube ip):32100 on your host.\nName: promtail (promtail-http)\nPort: 3101\nTarget Port: 3101\nNode Port: 32101\non linux and with minikube you can access this service using http://$(minikube ip):32101 on your host.\nThe image to use for loki. Default value: grafana/loki:2.1.0.\nPipeline stage to use, generally cri or docker. Default value: cri.\nThe image to use for promtail. Default value: grafana/promtail:2.1.0.","title":"io.yupiik.alveoli:loki-simple:1.0.2-SNAPSHOT","url":"//yupiik.github.io/bundlebee/alveoli/loki-simple-io-yupiik-alveoli-loki-simple.html"},{"lang":"en","lvl2":"Maven Dependency\nSample Usage\nDependencies","text":"Includes loki+prometheus+zipkin+grafana at once.\nio.yupiik.alveoli:prometheus-simple:1.0.2-SNAPSHOT from io.yupiik.alveoli:prometheus-simple:1.0.2-SNAPSHOT dependency\nio.yupiik.alveoli:zipkin-simple:1.0.2-SNAPSHOT from io.yupiik.alveoli:zipkin-simple:1.0.2-SNAPSHOT dependency\nio.yupiik.alveoli:loki-simple:1.0.2-SNAPSHOT from io.yupiik.alveoli:loki-simple:1.0.2-SNAPSHOT dependency\nio.yupiik.alveoli:grafana-simple:1.0.2-SNAPSHOT from io.yupiik.alveoli:grafana-simple:1.0.2-SNAPSHOT dependency","title":"io.yupiik.alveoli:monitoring-alveolus:1.0.2-SNAPSHOT","url":"//yupiik.github.io/bundlebee/alveoli/monitoring-alveolus-io-yupiik-alveoli-monitoring-alveolus.html"},{"lang":"en","lvl2":"Maven Dependency\nDefault Configuration\nPorts\nSample Usage\nConfiguration","text":"Setup \"postgres-local\" which runs a PostgreSQL instance usable by other applications.\n{}\nName: postgres\nPort: 5432\nTarget Port: 5432\nThe default database name in the PostgreSQL instance. Default value: postgres.\nWhere to persist data - using a hostPath mounting point by default. Default value: /data/postgres-local.\nThe default user PostgreSQL password. Default value: postgres.\nThe default user PostgreSQL username. Default value: postgres.","title":"io.yupiik.alveoli:postgres-local:1.0.2-SNAPSHOT","url":"//yupiik.github.io/bundlebee/alveoli/postgres-local-io-yupiik-alveoli-postgres-local.html"},{"lang":"en","lvl2":"Maven Dependency\nDefault Configuration\nPorts\nSample Usage\nConfiguration","text":"Prometheus local/dev setup. Will be available on http://$(PROMETHEUS_SERVICE_SERVICE_HOST):$(PROMETHEUS_SERVICE_SERVICE_PORT).\nName: prometheus\nProtocol: TCP\nPort: 9090\nTarget Port: 9090\nNode Port: 32090\non linux and with minikube you can access this service using http://$(minikube ip):32090 on your host.\nThe image to use. Default value: prom/prometheus:v2.24.1.","title":"io.yupiik.alveoli:prometheus-simple:1.0.2-SNAPSHOT","url":"//yupiik.github.io/bundlebee/alveoli/prometheus-simple-io-yupiik-alveoli-prometheus-simple.html"},{"lang":"en","lvl2":"Maven Dependency\nDefault Configuration\nPorts\nSample Usage\nConfiguration","text":"Zipkin in memory setup. Will be available on http://$(ZIPKIN_SERVICE_SERVICE_HOST):$(ZIPKIN_SERVICE_SERVICE_PORT). For example http://$(ZIPKIN_SERVICE_SERVICE_HOST):$(ZIPKIN_SERVICE_SERVICE_PORT)/api/v2/spans to push spans through HTTP.\n{{zipkin-simple.storageType:-mem}}\nName: zipkin\nProtocol: TCP\nPort: 9411\nTarget Port: 9411\nNode Port: 31411\non linux and with minikube you can access this service using http://$(minikube ip):31411 on your host.\nThe image to use. Default value: openzipkin/zipkin:2.23.\nThe storage type, by default it uses mem storage (in memory). Default value: mem.","title":"io.yupiik.alveoli:zipkin-simple:1.0.2-SNAPSHOT","url":"//yupiik.github.io/bundlebee/alveoli/zipkin-simple-io-yupiik-alveoli-zipkin-simple.html"}]