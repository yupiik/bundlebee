<!DOCTYPE html>
<html lang="en">
<head>
    <title>Getting Started</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A light Java Kubernetes package manager.">
    <meta name="author" content="Yupiik Minisite Generator">
    <link rel="shortcut icon" href="//www.yupiik.com/img/favicon.png">

    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/asciidoctor.js/1.5.5-5/css/asciidoctor.min.css" integrity="sha512-kI7tn5cuEg16kMeXnYmg8rEJPxbxzEM7Gsr191iQdLDevFBLXPCSU9aZWSVuP61tMZWU3nBAR1cJ7SmXnOGLZw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/css/bootstrap.min.css" integrity="sha512-oc9+XSs1H243/FRN9Rw62Fn8EtxjEYWHXRvjS43YtueEewbS6ObfXcJNyohjHqVKFPoXXUxwc+q1K7Dee6vv9g==" crossorigin="anonymous" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/styles/vs2015.min.css" integrity="sha512-w8aclkBlN3Ha08SMwFKXFJqhSUx2qlvTBFLLelF8sm4xQnlg64qmGB/A6pBIKy0W8Bo51yDMDtQiPLNRq1WMcQ==" crossorigin="anonymous" />
    <link id="theme-style" rel="stylesheet" href="//www.yupiik.io/bundlebee/css/theme.css?v=1.0.16-SNAPSHOT">
    
</head>

<body>
    <header class="header fixed-top">
        <div class="branding docs-branding">
            <div class="container-fluid position-relative py-2">
                <div class="docs-logo-wrapper">
	                <div class="site-logo"><a class="navbar-brand" href="//www.yupiik.io/bundlebee/index.html">
	                <img class="logo-icon mr-2" src="//www.yupiik.com/img/favicon.png" alt="logo">
	                <span class="logo-text">Yupiik BundleBee <span class="text-alt">Docs</span></span></a></div>
                </div>
	            <div class="docs-top-utilities d-flex justify-content-end align-items-center">
					
					<li class="list-inline-item"><a id="search-button" href="#" data-toggle="modal" data-target="#searchModal"><i data-toggle="tooltip" data-placement="top" title="Search" class="fas fa-search"></i></a></li>

					<ul class="social-list list-inline mx-md-3 mx-lg-5 mb-0 d-none d-lg-flex">
						
						<li class="list-inline-item"><a href="https://www.linkedin.com/company/yupiik/"><i class="fab fa-linkedin fa-fw"></i></a></li>
		            </ul>
	            </div>
            </div>
        </div>
    </header>
	<div class="page">
        <div class="page-navigation-left">
            <h3>Menu</h3>
            <ul>
                <li><a href="//www.yupiik.io/bundlebee/getting-started.html"><i class="fas fa-play"></i> Getting Started</a></li>
                <li><a href="//www.yupiik.io/bundlebee/how-it-works.html"><i class="fas fa-car-battery"></i> How it works</a></li>
                <li><a href="//www.yupiik.io/bundlebee/commands.html"><i class="fas fa-terminal"></i> Commands</a></li>
                <li><a href="//www.yupiik.io/bundlebee/alveoli.html"><i class="fas fa-puzzle-piece"></i> Alveoli</a></li>
                <li><a href="//www.yupiik.io/bundlebee/maven-plugin.html"><i class="fas fa-building"></i> Maven Plugin</a></li>
            </ul>
        </div>

        <div class="container page-content">
            <div class="page-header">
                <h1>Getting Started</h1>
            </div>
            <div class="page-content-body">
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
BundleBee is a light Java package manager for Kubernetes applications.
This page explains how to get started with it.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_java_mode">Java  Mode</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure to use java &gt;= 11.0.7 (previous Java 11 versions can work but have an issue with TLS HTTP client you can hit).</p>
</li>
<li>
<p>Download the <code>bundlebee-core</code> fat jar on <a href="https://repo.maven.apache.org/maven2/io/yupiik/bundlebee-core/" class="bare">https://repo.maven.apache.org/maven2/io/yupiik/bundlebee-core/</a> (ensure to take <code>-fat.jar</code> artifact).</p>
</li>
<li>
<p>You can now run it with the command: <code>java -jar bundlebee-core-&lt;version&gt;-fat.jar</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_binary">Binary</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
as of today, no release of BundleBee are on central yet so this script does not yet work.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
this only works for linux amd64 computers.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sh" class="language-sh hljs">curl https://yupiik.github.io/bundlebee/install/install.sh | bash</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
since 1.0.3, once installed this way (and your <code>PATH</code> variable updated to include bundlebee) you can use <code>check-update</code> command to check if a new version is available:
<code>bundlebee check-update [--update true]</code>.
The <code>--update true</code> option enables to automatically replace the binary if needed, not specifying it will just log if a new version can be downloaded.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_your_first_alveolus">Create your first alveolus</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pre_requisite">Pre-requisite</h3>
<div class="paragraph">
<p>BundleBee assumes it is installed itself indeed but depending how you package your alveolus it can require Java (&gt;= 8) and Maven.
If they are not installed on your system, we encourage you to use <a href="https://sdkman.io/">sdkman</a> to do so.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
this can be replaced by any zip packager and is not a strong requirement.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="start_with_maven">Start with a maven project</h3>
<div class="paragraph">
<p>There are a ton of ways to create a maven projects but here is the simplest one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mvn archetype:generate \
    -DgroupId=com.company \
    -DartifactId=my-app-alveolus \
    -DarchetypeArtifactId=maven-archetype-quickstart \
    -DarchetypeVersion=1.4 \
    -DinteractiveMode=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can go in <code>my-app-alveolus/</code>.
You can run <code>mvn package</code> to ensure your java/maven setup is correct.</p>
</div>
<div class="paragraph">
<p>At that stage we can start working on our alveolus but if you want to be "purist" you can clean up the default skaffolded project: <code>rm -Rf src/test/ src/main/java/</code>.</p>
</div>
<div class="paragraph">
<p>To start working on our alveolus, we will create <code>src/main/resources/bundlebee</code> folder: <code>mkdir -p src/main/resources/bundlebee</code>.</p>
</div>
<div class="paragraph">
<p>At that stage your project should look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">.
├── pom.xml
└── src
    └── main
        └── resources
            └── bundlebee</code></pre>
</div>
</div>
<div class="paragraph">
<p>To describe an application, you have to create a <code>manifest.json</code> file in this <code>bundlebee</code> folder:</p>
</div>
<div class="listingblock">
<div class="title">src/main/resources/bundlebee/manifest.json</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "alveoli": [
    {
      "name": "hello", <b class="conum">(1)</b>
      "descriptors": [
        {
          "name": "hello-world", <b class="conum">(2)</b>
          "location": "src/main/resources" <b class="conum">(3)</b>
        }
      ]
    }
  ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Creates an alveolus named "hello",</p>
</li>
<li>
<p>"hello" alveolus will use as descriptor (.yaml) "hello-world.yaml" which will be found in src/main/resources/<code>bundlebee/kubernetes</code>,</p>
</li>
<li>
<p>References Bundlebee base folder because we are deploying in exploded mode (and not in a packaged jar).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Then add the referenced Kubernetes descriptor in <code>kubernetes</code> subfolder:</p>
</div>
<div class="listingblock">
<div class="title">src/main/resources/bundlebee/kubernetes/hello-world.yaml</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="yaml" class="language-yaml hljs">apiVersion: apps/v1
kind: Deployment
metadata:
  name: hello-deployment
  labels:
    app: hello
spec:
  replicas: 1
  selector:
    matchLabels:
      app: hello
  template:
    metadata:
      labels:
        app: hello
    spec:
      containers:
        - name: hello
          image: hello-world:latest</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here nothing changes from a "normal" .yaml used with kubectl.</p>
</div>
<div class="paragraph">
<p>Now you can deploy this executing <code>bundlebee apply --alveolus hello --manifest ./src/main/resources/bundlebee/manifest.json</code>.</p>
</div>
<div class="paragraph">
<p>And that&#8217;s it, now hello world application should be up and running in your Kubernetes cluster.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
it is more than encouraged to name the kubernetes descriptor based on the project unique identifier.
For example <code>&lt;groupId&gt;.&lt;artifactId&gt;.&lt;alveolus_name&gt;.yaml</code>.
It will avoid conflicts when multiple alveolus are in the same classpath using native java mode and not file driven mode.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You could also have used the <code>bundlebee-maven-plugin</code>, simply add it in the plugins section of the pom.xml :</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="`xml`" class="language-`xml` hljs">&lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;io.yupiik&lt;/groupId&gt;
      &lt;artifactId&gt;bundlebee-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;${bundlebee.version}&lt;/version&gt;
      &lt;executions&gt;
        &lt;execution&gt;
          &lt;id&gt;hello-world&lt;/id&gt;
          &lt;phase&gt;none&lt;/phase&gt;
          &lt;goals&gt;
            &lt;goal&gt;apply&lt;/goal&gt;
          &lt;/goals&gt;
          &lt;configuration&gt;
            &lt;manifest&gt;${project.basedir}/src/main/resources/bundlebee/manifest.json&lt;/manifest&gt; <b class="conum">(1)</b>
            &lt;alveolus&gt;hello&lt;/alveolus&gt;
          &lt;/configuration&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can deploy this executing <code>mvn bundlebee:apply@hello-world</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_start_from_scratch_without_java_and_maven">Start from scratch (without Java and Maven)</h3>
<div class="paragraph">
<p>In this part we will reuse the descriptors of <a href="#start_with_maven">Start with maven</a> section so we will just show how to bundle without Java/Maven the alveolus.</p>
</div>
<div class="paragraph">
<p>The overall goal is to create a zip containing the <code>manifest.json</code> and the Kubernetes descriptor.
Here is a small script helping to do that:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">#! /bin/bash

base="my-app-alveolus" <b class="conum">(1)</b>
mkdir -p "$base/bundlebee/" "$base/bundlebee/kubernetes/" <b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The name of the project (will create a root directory with this name)</p>
</li>
<li>
<p>Create the alveolus structure</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now you can copy the descriptors as in <a href="#start_with_maven">Start with maven</a> section in <code>my-app-alveolus/bundlebee/</code> folder.</p>
</div>
<div class="paragraph">
<p>Once done we just have to bundle it as a zip. One option on UNIx system is to use this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">#! /bin/bash

base="my-app-alveolus" <b class="conum">(1)</b>

cd "$base"
zip "$base.zip" -r . <b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Reuse the same setup than in previous script</p>
</li>
<li>
<p>Create a zip containing the alveolus structure using <code>zip</code> command</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>And that&#8217;s it.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
this trick to create a zip can be adapted to any language (javascript, typescript, go, python, ruby, &#8230;&#8203;) and enables to bundle an alveolus in any build tool very easily.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_going_futher_k8s_operator">Going futher (K8s operator)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To learn how to deploy directly an <code>Alveolus</code> on Kubernetes you can check out our <a href="operator.html">Operator</a> documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_define_custom_templates">Define custom templates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use an alveolus as a template for others providing contextual placeholders.
Learn more about this in <a href="template.html">template</a> documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_your_alveoli_with_junit_5">Testing your alveoli with JUnit 5</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Bundlebee provides a light testing framework integrated with JUnit 5 to ease the validation of alveoli.
Learn more about this in <a href="junit5.html">junit5</a> documentation.</p>
</div>
</div>
</div>
            </div>
        </div>

    <div class="page-navigation-right">
        <h3>Navigation</h3>
        <nav class="generated-nav-menu"></nav>
    </div>
    </div>
    <hr />
    <footer class="footer pb-5">
	    <div class="footer-bottom text-center">
		    <ul class="social-list list-unstyled">
			    <li class="list-inline-item"><a href="https://www.linkedin.com/company/yupiik/"><i class="fab fa-linkedin fa-fw"></i></a></li>
	        </ul>
            <small class="copyright">Yupiik &copy;</small>
	    </div>
    </footer>

    <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="searchModalLabel">Search</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form onsubmit="return false;" class="form-inline">
          <div class="form-group">
            <label for="searchInput"><b>Search: </b></label>
            <input class="form-control" id="searchInput" placeholder="Enter search text and hit enter...">
          </div>
        </form>
        <div class="search-hits"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" ></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.min.js" integrity="sha512-8qmis31OQi6hIRgvkht0s6mCOittjMa9GMqtK9hes5iEQBQE/Ca6yGE5FsW36vyipGoWQswBj/QBm2JR086Rkw==" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/highlight.min.js" integrity="sha512-DrpaExP2d7RJqNhXB41Q/zzzQrtb6J0zfnXD5XeVEWE8d9Hj54irCLj6dRS3eNepPja7DvKcV+9PnHC7A/g83A==" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/languages/java.min.js" integrity="sha512-ku64EPM6PjpseXTZbyRs0ZfXSbVsmLe+XcXxO3tZf1zW2GxZ+aKH9LZWgl/CRI9AFkU3IL7Pc1mzcZiUuvk7FQ==" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/languages/bash.min.js" integrity="sha512-Hg0ufGEvn0AuzKMU0psJ1iH238iUN6THh7EI0CfA0n1sd3yu6PYet4SaDMpgzN9L1yQHxfB3yc5ezw3PwolIfA==" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/languages/json.min.js" integrity="sha512-37sW1XqaJmseHAGNg4N4Y01u6g2do6LZL8tsziiL5CMXGy04Th65OXROw2jeDeXLo5+4Fsx7pmhEJJw77htBFg==" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/languages/dockerfile.min.js" integrity="sha512-eRNl3ty7GOJPBN53nxLgtSSj2rkYj5/W0Vg0MFQBw8xAoILeT6byOogENHHCRRvHil4pKQ/HbgeJ5DOwQK3SJA==" crossorigin="anonymous"></script>
    <script>if (!(window.minisite || {}).skipHighlightJs) { hljs.initHighlightingOnLoad(); }</script>
    <script src="//www.yupiik.io/bundlebee/js/minisite.js?v=1.0.16-SNAPSHOT"></script>
    <script>$('.page-content-body').generatedNavMenu();</script>
    <script>
            document.querySelector('div.site-logo > a').href =
              document.location.pathname.indexOf('/bundlebee') == 0 ? '/bundlebee/index.html' : '/index.html';
            </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.3/fuse.min.js" integrity="sha512-neoBxVNv0UMXjoilAYGxfWrSsW6iAVclx7vQKdPJ9Peet1bM5YQjU0aIB8LtH8iNPa+pAyMZprBBw2ZQ/Q1LjQ==" crossorigin="anonymous"></script>

</body>
</html>
